ufw allow 30000:32767/tcp comment 'Kubernetes NodePort Services'
ufw allow out 5473/tcp comment 'Calico Typha (worker to Typha)'
ufw allow 179/tcp comment 'Calico BGP peering'
ufw allow 4789/udp comment 'Calico VXLAN tunnel'
ufw allow 51820/udp comment 'Calico WireGuard encryption'
ufw allow 51821/udp comment 'Calico WireGuard backup'
ufw allow 8472/udp comment 'VXLAN overlay (UDP)'
ufw allow 4240/tcp comment 'Cilium Agent communication'
ufw allow 4244/tcp comment 'Hubble observability'
ufw allow 4245,4250/tcp comment 'Cilium additional communication (TCP)'
ufw allow 9962:9964/tcp comment 'Cilium internal service ports (TCP)'
ufw allow 51871/tcp comment 'Cilium dynamic port (TCP)'
ufw allow 22/tcp comment 'SSH remote access'
ufw allow 2377/tcp comment 'Swarm cluster management (manager only)'
ufw allow 7946/tcp comment 'Swarm node discovery TCP'
ufw allow 7946/udp comment 'Swarm node discovery UDP'
ufw allow 4789/udp comment 'Swarm overlay network (VXLAN)'
ufw allow 9100/tcp comment 'Node Exporter'
ufw allow 8080/tcp comment 'cAdvisor metrics'
ufw allow 8080/tcp comment 'Published service port (example)'
ufw allow 443/tcp comment 'HTTPS service'
ufw allow 80/tcp comment 'HTTP service'

ufw allow 6443/tcp comment 'Kubernetes API server'
ufw allow 2379:2380/tcp comment 'etcd server client API'
ufw allow 10250/tcp comment 'Kubelet API'
ufw allow 10257/tcp comment 'kube-controller-manager'
ufw allow 10259/tcp comment 'kube-scheduler'
ufw allow 30000:32767/tcp comment 'NodePort Services'

ufw enable
